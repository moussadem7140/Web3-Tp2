{# Template pour les détails d’un service #}
{% extends "_layout.jinja" %}

{% block title %}Ajouter un service | PianoServices{% endblock %}

{% block contenu %}
<div class="card container mt-4">
    <div class="card-body">

        <form class="row g-3" method="POST" action="{{url_for('services.ajouter_service')}}" novalidate="novalidate" enctype="multipart/form-data">
            <div class="col-12">
                <label for="titre" class="form-label">Titre :</label>
                <input type="text" id="titre" name="titre" class="form-control {{ class_titre }}" value="{{ titre }}">
                <div class="invalid-feedback">Veuillez entrer un titre.</div>
            </div>
            <div class="col-12">
                <label for="localisation" class="form-label">Localisation :</label>
                <input type="text" id="localisation" name="localisation" class="form-control {{class_localisation }}"
                    value="{{ localisation }}">
                <div class="invalid-feedback">Veuillez entrer une localisation valide.</div>
            </div>
            <div class="col-12">
                <label for="description" class="form-label">Description :</label>
                <textarea id="description" name="description" class="form-control {{ class_description }}"
                    rows="3">{{ description }}</textarea>
                <div class="invalid-feedback">Veuillez entrer une description</div>
            </div>
            <div class="col-12">
                <label for="cout" class="form-label">Prix :</label>
                <input type="number" step="0.01" id="cout" name="cout" class="form-control {{ class_cout }}"
                    value="{{ cout }}">
                <div class="invalid-feedback">Veuillez entrer un prix valide</div>
            </div>
            <div class="col-12">
                <label for="id_categorie" class="form-label">Catégorie :</label>
                <select id="id_categorie" name="id_categorie" class="form-select {{ class_categorie }}">
                    <option value="">-- Selectionner une categorie</option>
                    {% for cat in categories %}
                    <option value="{{ cat.id_categorie }}" {% if id_categorie==cat.id_categorie %}selected{% endif %}>
                        {{ cat.nom_categorie }}
                    </option>
                    {% endfor %}
                </select>
                <div class="invalid-feedback">Veuillez indiquer la Catégorie</div>
            </div>

            <div class="col-12">
                <input type="hidden" name="actif" value="0">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="actif" name="actif" value="1" {% if actif
                        %}checked{% endif %}>
                    <label class="form-check-label" for="actif">
                        Actif
                    </label>
                </div>
            </div>
            <div class="mb-3">
                <label for="image" class="form-label">Image du service :</label>
                <input class="form-control {{ class_image }}" type="file" id="image" name="image">
                <div class="invalid-feedback">Veuillez sélectionner une image valide.
            </div>
            <div class="col-12">
                <button class="btn btn-success" type="submit">Ajouter</button>
                <a href="{{url_for('accueil')}}" class="btn btn-secondary">Annuler</a>
            </div>
        </form>

    </div>
</div>

{% endblock %}